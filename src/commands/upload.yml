parameters:
  file-spec:
    type: string
    default: ""
  source:
    type: string 
  target:
    type: string 
  build-name:
    type: string
steps:
  - when:
      condition: <<parameters.file-spec>> 
      steps:
        - run:
            name: Upload Assets with JFrog CLI
            command: jfrog rt upload <<parameters.source>> <<parameters.target>> --spec=<<parameters.file-spec>> --build-name=<<parameters.build-name>> --build-number=${CIRCLE_BUILD_NUM}
  - unless:
      condition: <<parameters.file-spec>> 
      steps:
        - run:
            name: Upload Assets with JFrog CLI
            command: jfrog rt upload <<parameters.source>> <<parameters.target>> --build-name=<<parameters.build-name>> --build-number=${CIRCLE_BUILD_NUM}
  