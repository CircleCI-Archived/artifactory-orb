#given
jobs:
  build:
    docker:
      - image: circleci/node:10
    working_directory: ~/repo
    steps:
      - checkout
      - run: |
          echo "arbritary commmand"
      - artifactory/upload:
          source: test/artifact.jar
          target: repo/path
          file-spec: spec.json
#end given

#then
version: 2.1
jobs:
  build:
    docker:
    - image: circleci/node:10
    working_directory: ~/repo
    steps:
    - checkout
    - run:
        command: |
          echo "arbritary commmand"
    - run:
        command: jfrog rt upload test/artifact.jar repo/path --spec=spec.json --build-name=${CIRCLE_PROJECT_REPONAME} --build-number=${CIRCLE_BUILD_NUM}
        name: Upload Assets with JFrog CLI
workflows:
  version: 2
  workflow:
    jobs:
    - build
#end then